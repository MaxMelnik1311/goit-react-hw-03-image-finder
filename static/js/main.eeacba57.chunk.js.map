{"version":3,"sources":["styles/styles.module.css","components/SearchBar/SearchBar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loading/Loading.js","components/Modal/Modal.js","API/images-api.js","App.js","index.js"],"names":["module","exports","SearchBar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSearch","className","styles","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","largeImageURL","onOpen","key","src","ImageGalleryItemImage","alt","onClick","ImageGallery","images","map","Button","clicked","buttonClick","buttonContainer","button","Loading","loading","color","height","width","timeout","Modal","handleKeyDown","code","onClose","handleBackDropClick","currentTarget","window","addEventListener","removeEventListener","Overlay","role","fetchImages","pageNumber","fetch","then","res","json","data","hits","App","buttonAvailable","isLoading","error","largeImageUrl","openModal","fetchImagesList","catch","finally","setLargeImage","toggleModal","prevProps","prevState","prevQuery","nextQuery","prevImages","nextImages","scrollTo","top","document","documentElement","scrollHeight","behavior","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.eeacba57.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__3IPGP\",\"SearchBar\":\"styles_SearchBar__3kujo\",\"SearchForm\":\"styles_SearchForm__2J0Ar\",\"SearchFormButton\":\"styles_SearchFormButton__22t0K\",\"SearchFormButtonLabel\":\"styles_SearchFormButtonLabel__1VBJ8\",\"SearchFormInput\":\"styles_SearchFormInput__qZog2\",\"ImageGallery\":\"styles_ImageGallery__3KBf7\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__3tajs\",\"ImageGalleryItemImage\":\"styles_ImageGalleryItemImage__2mjaX\",\"loading\":\"styles_loading__3gYGi\",\"Overlay\":\"styles_Overlay__pNQ0O\",\"Modal\":\"styles_Modal__3u-Uw\",\"buttonContainer\":\"styles_buttonContainer__1bG27\",\"button\":\"styles_button__28SYM\"};","import React, { Component } from 'react';\r\nimport T from 'prop-types';\r\nimport styles from '../../styles/styles.module.css';\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  propTypes = {\r\n    onSearch: T.func.isRequired,\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSearch(this.state.query);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.SearchBar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            placeholder=\"Search photos and images\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport styles from '../../../styles/styles.module.css';\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, largeImageURL, onOpen }) => (\r\n  <li key={id}>\r\n    <img\r\n      src={webformatURL}\r\n      className={styles.ImageGalleryItemImage}\r\n      alt=\"it's by your request!\"\r\n      onClick={() => onOpen(largeImageURL)}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: T.string.isRequired,\r\n  webformatURL: T.string.isRequired,\r\n  largeImageURL: T.string.isRequired,\r\n  onOpen: T.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport T from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport styles from '../../styles/styles.module.css';\r\n\r\nexport default function ImageGallery({ images, onOpen }) {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          onOpen={onOpen}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: T.shape.isRequired,\r\n  onOpen: T.func.isRequired,\r\n};\r\n","import T from 'prop-types';\r\nimport React, { Component } from 'react';\r\nimport styles from '../../styles/styles.module.css';\r\n\r\nexport default class Button extends Component {\r\n  state = {};\r\n\r\n  propTypes = {\r\n    buttonClick: T.func.isRequired,\r\n  };\r\n\r\n  clicked = () => {\r\n    this.props.buttonClick();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.buttonContainer}>\r\n        <button className={styles.button} type=\"button\" onClick={this.clicked}>\r\n          Load more\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport styles from '../../styles/styles.module.css';\r\n\r\nexport default class Loading extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.loading}>\r\n        <Loader\r\n          type=\"ThreeDots\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={5000}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport T from 'prop-types';\r\nimport styles from '../../styles/styles.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  propTypes = {\r\n    onClose: T.func.isRequired,\r\n    largeImageURL: T.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackDropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n    return (\r\n      <div\r\n        className={styles.Overlay}\r\n        onClick={this.handleBackDropClick}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.Modal}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const fetchImages = (\r\n  query = '',\r\n  pageNumber = 1,\r\n  key = '14500758-0aeae17d8afbdfeb9b4b42edb',\r\n) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=${key}&image_type=photo&orientation=horizontal&per_page=15`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.hits);\r\n};\r\n\r\nexport default fetchImages;\r\n","import React, { Component } from 'react';\r\nimport SearchBar from './components/SearchBar/SearchBar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Button from './components/Button/Button';\r\nimport Loading from './components/Loading/Loading';\r\nimport Modal from './components/Modal/Modal';\r\nimport fetchImages from './API/images-api';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    pageNumber: 1,\r\n    query: '',\r\n    buttonAvailable: false,\r\n    isLoading: false,\r\n    error: null,\r\n    largeImageUrl: null,\r\n    openModal: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, images } = this.state;\r\n\r\n    const prevQuery = prevState.query;\r\n    const nextQuery = query;\r\n\r\n    const prevImages = prevState.images;\r\n    const nextImages = images;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchImagesList();\r\n    }\r\n\r\n    if (prevImages !== nextImages) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  onSearch = query => {\r\n    this.setState({ images: [], pageNumber: 1, query, buttonAvailable: false });\r\n  };\r\n\r\n  fetchImagesList = () => {\r\n    const { query, pageNumber } = this.state;\r\n    this.setState({ isLoading: true });\r\n\r\n    fetchImages(query, pageNumber)\r\n      .then(images =>\r\n        this.setState(state => ({\r\n          pageNumber: state.pageNumber + 1,\r\n          images: [...state.images, ...images],\r\n          buttonAvailable: true,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  setLargeImage = largeImageUrl => {\r\n    this.setState({ largeImageUrl });\r\n    this.toggleModal();\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(state => ({ openModal: !state.openModal }));\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      images,\r\n      isLoading,\r\n      buttonAvailable,\r\n      openModal,\r\n      error,\r\n      largeImageUrl,\r\n    } = this.state;\r\n    return (\r\n      <>\r\n        <SearchBar onSearch={this.onSearch} />\r\n        {error && <p>Error catched: {error.message} </p>}\r\n        <ImageGallery images={images} onOpen={this.setLargeImage} />\r\n        {openModal && (\r\n          <Modal largeImageUrl={largeImageUrl} onClose={this.toggleModal} />\r\n        )}\r\n        {isLoading && <Loading />}\r\n        {buttonAvailable && <Button buttonClick={this.fetchImagesList} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './styles/styles.module.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}